%hr
#full_image
  - if previous_flickr_image.present?
    .previous_image
      = link_to(flickr_image_path(:id => previous_flickr_image.id, :portfolio => portfolio, :anchor => 'full_image')) do
        ᑅ
  - if next_flickr_image.present?
    .next_image
      = link_to(flickr_image_path(:id => next_flickr_image.id, :portfolio => portfolio, :anchor => 'full_image')) do
        ᑀ
  = link_to(Flickr::ImageService.get_url_from_image(flickr_image, 'Original'), :class => 'lightbox') do
    %img{ :src => Flickr::ImageService.get_url_from_image(flickr_image, 'Large') }

.row.image-description
  .col-md-8
    %p= flickr_image.image_description
    %p= link_to(fa_icon('flickr', :text => t('.link_to_flickr')), flickr_image.full_flickr_url)
  .col-md-4
    %table.table.table-striped.table-bordered.table-condensed
      - %w(camera focal_length aperture shutter iso date_taken date_posted).each do |field|
        - value = flickr_image.send(field.to_sym)
        - if value.present?
          %tr
            %td= t(".#{field}")
            %td
              - if value.class == ActiveSupport::TimeWithZone
                = l(value, :format => :long)
              - else
                = value

:javascript
  $(".lightbox").colorbox({
    transition: 'elastic',
    maxWidth: '100%',
    maxHeight: '100%',
    closeButton: true,
    className: 'lightbox-display',
    overlayClose: true,
    onOpen: function(){$('.lightbox-display').click(function(){$.colorbox.close()})}
  });
